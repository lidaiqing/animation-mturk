[2~function gifPlayer(k,q){var g={autoplay:true,play:function(i,c,r){i.hide();c.show();r()},stop:function(c,i,r){c.hide();i.show();r()}};var q=$.extend({},g,q);var j=k;var n=k.find(".gif-still");var e=k.find(".gif-movie");var f="e";var o=false;var a=new Image;var p=function(c,i){j.removeClass("gif-player-"+c);j.addClass("gif-player-"+i);f=i};var l=q.play;var b=q.stop;var h=function(){o=false};this.act=function(){if(o){return}switch(f){case"e":p("e","l");e.load(function(){a.src=e.attr("src");e.unbind("load");if(!q.autoplay){p("l","s");return}p("l","p");o=true;l(n,e,h)});e.attr("src",e.attr("gif"));break;case"l":p("l","e");e.unbind("load");e.attr("src","");break;case"s":e.attr("src",null).attr("src",a.src);p("s","p");o=true;l(n,e,h);break;case"p":p("p","s");o=true;b(e,n,h);break}};var d=this;j.find(".gif-ctrl").click(function(){d.act()});j.addClass("gif-player-e");e.hide();n.show()};
