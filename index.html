<HTMLQuestion xmlns="http://mechanicalturk.amazonaws.com/AWSMechanicalTurkDataSchemas/2006-07-14/ExternalQuestion.xsd">
<HTMLContent>
<!DOCTYPE html>
<html>
<head>
<title>3D Animation Descriptions Test</title>
<meta http-equiv='Content-Type' content='text/html, charset=UTF-8, width=device-width,initial-scale=1' name="viewport" />

<script src="https://rawgit.com/lidaiqing/animation-mturk/master/js/BrowserDetect.js"></script>
<script src="https://rawgit.com/lidaiqing/animation-mturk/master/js/Navigation.js"></script>
<script src="https://rawgit.com/lidaiqing/animation-mturk/master/js/Demographics.js"></script>
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s="   crossorigin="anonymous"></script>

<style type="text/css">
.wrapper {
	height: 80%;
	width: 100%;
	display: table;
}

.page {
	display: table-cell;
	vertical-align: middle;
}

.cell {
	margin: 0 auto;
	padding: 10px;
	width: 850px;
}

#pagenum {
	text-align: center;
	font-style: italic;
}
.disclaimer {
	font-weight: bold;
	color: #555555;
}

.warning {
	font-weight: bold;
}

body {
	-webkit-touch-callout: none;
	-webkit-user-select: none;
	-khtml-user-select: none;
	-moz-user-select: none;
	-ms-user-select: none;
	user-select: none;
}
</style>
<script>

function gup(name)
{
	var regexS = "[\\?&]"+name+"=([^&#]*)";
    var regex = new RegExp( regexS );
    var tmpURL = window.location.href;
    var results = regex.exec( tmpURL );
    if( results == null )
        return "";
    else
        return results[1];
}

$(document).ready(function()
{
	document.getElementById('assignmentId').value = gup('assignmentId');
  console.log(gup('assignmentId'));
  if (gup('assignmentId') == "ASSIGNMENT_ID_NOT_AVAILABLE") {
      // If we're previewing, disable the button and give it a helpful message
      document.getElementById('submitButton').disabled = true;
      document.getElementById('submitButton').value = "You must ACCEPT the HIT before you can submit the results.";
  } else {
      var form = document.getElementById('mturk_form');
      //form.action = "https://www.mturk.com/mturk/externalSubmit";
            //if (document.referrer && ( document.referrer.indexOf('workersandbox') != -1) ) {
    	form.action = "https://workersandbox.mturk.com/mturk/externalSubmit";
             //   form.action = "https://www.mturk.com/mturk/externalSubmit";
           // }
  }
  set_gif_tag();
	set_gif_src();

	function set_gif_tag() {
		var json_url = "https://lidaiqing.github.io/animation-mturk/json/items_info.json"
		$.getJSON(json_url, function(tags) {
			var id1 = gup('id1');
			var id2 = gup('id2');
			if (id1 == "") id1 = '1-1';
			if (id2 == "") id2 = '1-2';
			for (var i in tags) {

				if (tags[i].id == id1) {
					$('#tag1').text("Action tag: " + tags[i].action);
					console.log(tags[i]);
				}
				if (tags[i].id == id2) {
					$('#tag2').text("Action tag: " + tags[i].action);
					console.log(tags[i]);
				}
			}
		});
	}
	function set_gif_src() {
		var id1 = gup('id1');
		var id2 = gup('id2');
		if (id1 == "") id1 = '1-1';
		if (id2 == "") id2 = '1-2';
		var baseURL = "https://s3.amazonaws.com/animation-mturk/image/";
		$("#gif1").attr("src",baseURL + id1 + ".gif");
		$("#gif2").attr("src",baseURL + id2 + ".gif");
	}

	function submitResults() {
		document.getElementById('form_gender').value = document.getElementById('gender').value;
		document.getElementById('form_age').value = document.getElementById('age').value;
		document.getElementById('form_lang1').value = document.getElementById('lang1').value;
		document.getElementById('form_lang2').value = document.getElementById('lang2').value;
		document.getElementById('form_lang3').value = document.getElementById('lang3').value;
		document.getElementById('form_country').value = document.getElementById('contry').value;
		document.getElementById('form_description1').value = document.getElementById('description1').value;
		document.getElementById('form_description1').name = gup('id1') + "description";
		document.getElementById('form_description2').value = document.getElementById('description2').value;
		document.getElementById('form_description2').name = gup('id2') + "description";
		document.getElementById('form_comments').value = document.getElementById('comments').value;
		document.forms["mturk_form"].submit();
	}
});
</script>

<div class="wrapper">

<div class="page" id="1">
<div class="cell">

<div align="center"><h1>3D Animation Description Test</h1></div>

<div class="disclaimer">Disclaimer: </div>
<br />

<div class="warning">Please only complete this HIT once. You will not be paid for retakes. If you have already completed this HIT or any other version of this HIT and submit it again, all submissions but the first will be rejected, and you will only be paid for the first submission. Having a submission rejected is detrimental to your reputation as a worker, and may prevent you from completing HITs in the future.</div>
<br />

<p>In this study, you will be shown a list of 3D animations. For each animation, please watch it fully and give it a short description in English words. Please make it a full English sentence without grammar mistakes.</p>

<p><b>Technical requirements:</b></p>
<ul>
       <li>This experiment will only work in Firefox version 20 or higher, Chrome version 25 or higher, Safari version 5 or higher, or Internet Explorer version 10 or higher.</li>
       <li>Please allow permission for Javascript to run on this site and disable any script blockers that are running.</li>
</ul>

<input type="button" value="Continue" onclick="next();" />
</div>
</div>

<div class="page" id="2" style="display: none;">
<div class="cell">
<h2>Demographic Information</h2>
<p>Please help us out by answering the following questions about yourself. You must answer all of the questions marked with an asterisk (*).</p>
<p><b>*What is your gender?</b></p>
<select name="gender" id="gender">
<option selected="selected" value="default">Please select</option>
<option value="Male">Male</option>
<option value="Female">Female</option>
<option value="Other">Other</option>
</select>
<p><b>*How old are you?</b></p>
<select name="age" id="age">
<option selected="selected" value="default">Please select</option>
<script>
for (var i = 10; i < 100; i++) {
	document.writeln("<option value='" + i + "'>" + i + "</option>");
}
</script>
</select>
<script>
function fillInLanguages() {
	document.writeln(languageInputHTML);
}
</script>
<p><b>*Which of these languages is your first language?</b></p>
<select name="language1" id="lang1">
<script>fillInLanguages();</script>
</select>
<p><b>Which of these languages is your second language?</b></p>
<select name="language2" id="lang2">
<script>fillInLanguages();</script>
</select>
<p><b>Which of these languages is your third language?</b></p>
<select name="language3" id="lang3">
<script>fillInLanguages();</script>
</select>
<p><b>*What country are you from?</b></p>
<select name="country" id="country">
<script>document.writeln(countryInputHTML);</script>
</select>
<br />
<br />
<input type="button" value="Go back" onclick="back();" />
<input type="button" value="Continue" onclick="function filledOut(id) { return document.getElementById(id).value != 'default' } if(filledOut('gender') && filledOut('age') && filledOut('lang1') && filledOut('country')) { next(); }else{ alert('Please answer all of the questions marked with an asterisk (*).'); }"  />

</div>
</div>

<div class="page" id="3" style="display: none;">
<div class="cell">

<div align="center"><h1>Instructions</h1></div>

<p>In this study, you will be shown a 3D animation. For each animation, please watch it fully and give it a short description in English words. Please make it a full English sentence without grammar mistakes.</p>

<input type="button" value="Go back" onclick="back();" />
<input type="button" value="Continue" onclick="next();" />

</div>
</div>

<div class="page" id="4" style="display: none;">
<div class="cell">

<p>Please make a description about this animation in full English sentence.</p>
<p id="tag1"> </p>
<img id="gif1" src=""></img>
<br /><br />
Description(15-50 words):
<br /><br />
<textarea name="descriptions" id="description1" rows="4" cols="50"></textarea>
<br /><br />
<input type="button" value="Go back" onclick="back();" />
<input type="button" value="Continue" onclick="function textCheck(id) { return document.getElementById(id).value.split(' ').length > 15} if(textCheck('description1')) { next(); }else{ alert('Please type in at lease 15 words!'); }" />

</div>
</div>

<div class="page" id="5" style="display: none;">
<div class="cell">

<p>Please make a description about this animation in full English sentence.</p>
<p id="tag2"> </p>
<img id="gif2" src=""></img>
<br /><br />
Description(15-50 words):
<br /><br />
<textarea name="descriptions" id="description2" rows="4" cols="50"></textarea>
<br /><br />
<input type="button" value="Go back" onclick="back();" />
<input type="button" value="Continue" onclick="function textCheck(id) { return document.getElementById(id).value.split(' ').length > 15} if(textCheck('description2')) { next(); }else{ alert('Please type in at lease 15 words!'); }" />

</div>
</div>

<div class="page" id="6" style="display: none;">
<div class="cell">

<p>Thank you very much for participating in this study.</p>
<p>Please enter any comments you have about this HIT in the box below:</p>
<textarea name="comments" id="comments" rows="4" cols="50"></textarea>
<br /><br />

<input type="button" value="Go back" onclick="back();" />
<input type="button" value="Continue" onclick="next();" />

</div>
</div>

<div class="page" id="7" style="display: none;">
<div class="cell">

<p>Thank you for your help!</p>
<br />
<input type="button" value="Go back" onclick="back();" />
<form id="mturk_form" method="POST" action="">
	<input type="hidden" id="assignmentId" name="assignmentId" value="">
	<input type="hidden" id="form_gender" name="gender" value="">
	<input type="hidden" id="form_age" name="age" value="">
	<input type="hidden" id="form_lang1" name="language1" value="">
	<input type="hidden" id="form_lang2" name="language2" value="">
	<input type="hidden" id="form_lang3" name="language3" value="">
	<input type="hidden" id="form_contry" name="contry" value="">
	<input type="hidden" id="form_description1" name="" value="">
	<input type="hidden" id="form_description2" name="" value="">
	<input type="hidden" id="form_comments" name="comments" value="">
  <input id="submitButton" type="button" value="Submit" onclick="submitResults();">
</form>
</div>
</div>

</div>

<center><script>makePageNumber("Page 1 / 7");</script></center>
